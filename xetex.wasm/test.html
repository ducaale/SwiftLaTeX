<script type="module">
  import XeTeXEngine from "./XeTeXEngine.mjs"

  async function testFormat() {
    const Engine = new XeTeXEngine();
    await Engine.loadEngine();
    await Engine.compileFormat();
  }

  async function testTeX() {
    let texR = await fetch('test.tex');
    let tex = await texR.text();

    const Engine = new XeTeXEngine();
    await Engine.loadEngine();
    await Engine.writeMemFSFile("main.tex", tex);
    await Engine.setEngineMainFile("main.tex");
    let r = await Engine.compileLaTeX();
    console.log(r);
  }

  window.testTeX = testTeX;
  window.testFormat = testFormat;
</script>